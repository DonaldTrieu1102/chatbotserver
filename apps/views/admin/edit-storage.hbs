<main class="main-content">
    <div id="mainContent">
        <div class="container mt-60">
            <div class="masonry-item col-md-12">
                <div class="card shadow mb-4">
                    <div class="text-center card-header py-3 text-center">
                        <h3 class="" style="font-weight: bold; color: #029a00"><a href="../manage-storage"></a>Thêm kho hàng
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="mt-30">
                            <form onsubmit="return UpdateStorage({{storage.MaKhoHang}});" id="formUpdate">
                                <div class="form-group">
                                    <label for="storageName">
                                        <h5>Tên kho hàng</h5>
                                    </label>
                                    <input type="text" class="form-control" id="storageName" name="Ten" value="{{storage.Ten}}"
                                        placeholder="Tên kho hàng" required>
                                </div>
                                 <div class="form-group">
                                    <label for="address">
                                        <h5>Địa chỉ kho hàng</h5>
                                    </label>
                                    <input type="text" class="form-control" id="address" name="DiaChi" value="{{storage.DiaChi}}"
                                        placeholder="Địa chỉ kho hàng" required>
                                </div>
                              
                                <button type="submit" class="btn btn-primary">
                                    Chỉnh sửa kho hàng
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
    //add new product
    function UpdateStorage(id) {
        var frmUn = $('form').serializeArray();
        var frm = {};
        $.map(frmUn, function (n, i) {
            frm[n['name']] = n['value'];
        });
        $.ajax({
            url: '/admin/manage-storage/edit/' + id,
            method: 'POST',
            dataType: 'json',
            contentType: 'application/json',
            data: JSON.stringify(frm),
            complete: () => console.log('completed submit form add new product'),
            success: (rs => {
                console.log('add new post success');
                window.location.replace('/admin/manage-storage');
            }),
            error: (error => {
                console.log(error);
                window.location.replace('/admin/manage-storage');
            })
        });
        return false;
    }
</script>